presentatie_screen As screen:
    Fill: =RGBA(45, 45, 45, 1)
    OnVisible: |
        =ClearCollect(
            averageScore,
            Filter(
                scores,
                studentID = currPresStudent.Email
            )
        );
        Set(
            averageScoreValue,
            If(
                CountRows(averageScore) > 0,
                Round(
                    Average(
                        averageScore,
                        score
                    ),
                    0
                ),
                0
            )
        );
        ClearCollect(
            averageScoreCircle,
            {
                score: Text(averageScoreValue),
                Examen: "averageScore"
            }
        );
        Set(
            diffAverageScore,
            100 - averageScoreValue
        );
        Collect(
            averageScoreCircle,
            {
                score: Text(diffAverageScore),
                Examen: "fullCircle"
            }
        );
        ClearCollect(
            allScores,
            ForAll(
                Filter(
                    scores,
                    studentID = gallery_students.Selected.Email
                ),
                {
                    score: score,
                    Examen: Examen,
                    courseID: courseID
                }
            )
        );
        
        ClearCollect(
            highestScore,
            FirstN(
                SortByColumns(
                    allScores,
                    "score",
                    SortOrder.Descending
                ),
                1
            )
        );
        Set(
            firstScoreRaw,
            First(allScores)
        );
        Set(
            firstScore,
            Text(firstScoreRaw.score)
        );
        Set(
            lastScoreRaw,
            Last(allScores)
        );
        Set(
            lastScore,
            Text(lastScoreRaw.score)
        );
        Set(
            diffHighestScore,
            100 - Value(First(highestScore).score)
        );
        Collect(
            highestScore,
            {
                score: Text(diffHighestScore),
                Examen: "fullCircle"
            }
        );
        ClearCollect(
            lowestScore,
            FirstN(
                SortByColumns(
                    allScores,
                    "score",
                    SortOrder.Ascending
                ),
                1
            )
        );
        Set(
            diffLowestScore,
            100 - Value(First(lowestScore).score)
        );
        Collect(
            lowestScore,
            {
                score: Text(diffLowestScore),
                Examen: "fullCircle"
            }
        );
        //DROPDOWN MENU
        Clear(dropdownMenuOptions);
        Collect(
            dropdownMenuOptions,
            { value: "Groepsgemiddelde" }
        );
        ForAll(
            Filter(
                studenten_tabel,
                groupID = gallery_students.Selected.groupID && Email <> gallery_students.Selected.Email
            ),
            Collect(
                dropdownMenuOptions,
                { value: Voornaam & " " & Achternaam, studentID: studentID  }
            )
        );
        //PAGE DEFAULTS
        Set(
            presDefault,
            1
        );
        Set(
            hidePrivateInfo,
            true
        );

    container_23 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Fill: =RGBA(60, 60, 60, 1)
        Height: =688
        RadiusBottomLeft: =15
        RadiusBottomRight: =15
        RadiusTopLeft: =15
        RadiusTopRight: =15
        Width: =1146
        X: =180
        Y: =40
        ZIndex: =40

        Label14 As label:
            Color: =RGBA(255, 255, 255, 1)
            Size: =18
            Text: =If(hidePrivateInfo, "*********",LookUp(studenten_tabel, studentID = currPresStudent.studentID).Voornaam & " " & LookUp(studenten_tabel, studentID = currPresStudent.studentID).Achternaam)
            Width: =438
            X: =68
            Y: =21
            ZIndex: =2

        Label14_1 As label:
            Color: =RGBA(202, 202, 202, 1)
            Text: =If(hidePrivateInfo, "*********",LookUp(studenten_tabel, studentID = currPresStudent.studentID).Email)
            Width: =438
            X: =68
            Y: =46
            ZIndex: =3

        Icon12 As icon.Hide:
            Color: =RGBA(192, 5, 230, 1)
            Height: =25
            Icon: =If(!hidePrivateInfo, Icon.View, Icon.Hide)
            OnSelect: =Set(hidePrivateInfo, !hidePrivateInfo)
            Width: =25
            X: =22
            Y: =36
            ZIndex: =4

        Container3 As groupContainer.manualLayoutContainer:
            Height: =531
            RadiusBottomLeft: =15
            RadiusBottomRight: =15
            RadiusTopLeft: =15
            RadiusTopRight: =15
            Width: =855
            X: =21
            Y: =140
            ZIndex: =9

            Rectangle5 As rectangle:
                Fill: =RGBA(45, 45, 45, 1)
                Height: =531
                Width: =855
                ZIndex: =1

            LineChart2 As lineChart:
                BorderStyle: =
                Color: =RGBA(255, 255, 255, 1)
                DisplayMode: =DisplayMode.View
                Height: =475
                ItemColorSet: =[RGBA(192, 5, 230, 1),RGBA(48,166,103, 1), RGBA(94,193,108,1), RGBA(246,199,144,1), RGBA(247,199,114,1), RGBA(247,180,91,1), RGBA(246,143,100,1), RGBA(212,96,104,1), RGBA(148, 110, 176, 1), RGBA(118, 154, 204, 1), RGBA(96, 197, 234, 1)]
                Items: |-
                    =ForAll(
                            Filter(
                                scores,
                                studentID = currPresStudent.Email && groupName = dropdown_courses_3.SelectedText.Value
                            ),
                            {
                                score: score,
                                Examen: Examen
                            }
                        )
                Visible: |-
                    =If(presDefault = 1, If(
                        IsEmpty(
                            Filter(
                                scores,
                                studentID = currPresStudent.Email && groupID = dropdown_courses_3.SelectedText.Value
                            )
                        ),
                        false,
                        true
                    ),false)
                Width: =841
                X: =14
                XLabelAngle: =40
                Y: =42
                YAxisMax: =100
                YAxisMin: =-5
                ZIndex: =2

            Container1 As groupContainer.manualLayoutContainer:
                Height: =531
                Visible: =If(presDefault = 2, true,false)
                Width: =855
                ZIndex: =3

                Label19 As label:
                    Align: =Align.Right
                    Color: =RGBA(255, 255, 255, 1)
                    Text: |-
                        ="Eerst behaalde score:"
                    Width: =226
                    X: =20
                    Y: =432
                    ZIndex: =1

                Label19_1 As label:
                    Align: =Align.Right
                    Color: =RGBA(255, 255, 255, 1)
                    Text: |-
                        ="Laatst behaalde score:"
                    Width: =226
                    X: =20
                    Y: =459
                    ZIndex: =2

                Label19_2 As label:
                    Color: =RGBA(255, 255, 255, 1)
                    Text: =firstScore
                    Width: =226
                    X: =246
                    Y: =432
                    ZIndex: =3

                Label19_3 As label:
                    Color: =RGBA(255, 255, 255, 1)
                    Text: =lastScore
                    Width: =226
                    X: =246
                    Y: =459
                    ZIndex: =4

                ColumnChart1 As barChart:
                    Color: =RGBA(255, 255, 255, 1)
                    Height: =381
                    ItemColorSet: =[RGBA(192,5, 230, 1)]
                    Items: |-
                        =ForAll(
                                Filter(
                                    scores,
                                    studentID = currPresStudent.Email && groupID = dropdown_courses_3.Selected.groupID
                                ),
                                {
                                    score: score,
                                    Examen: Examen
                                }
                            )
                    SeriesAxisMax: =100
                    SeriesAxisMin: =0
                    Width: =855
                    Y: =51
                    ZIndex: =7

            LineChart2_1_averageGroup As lineChart:
                BorderStyle: =
                Color: =
                DisabledBorderColor: =
                DisplayMode: =DisplayMode.Disabled
                Height: =476
                HoverBorderColor: =
                ItemColorSet: =[RGBA(243, 243, 243, 0.6),RGBA(48,166,103, 1), RGBA(94,193,108,1), RGBA(246,199,144,1), RGBA(247,199,114,1), RGBA(247,180,91,1), RGBA(246,143,100,1), RGBA(212,96,104,1), RGBA(148, 110, 176, 1), RGBA(118, 154, 204, 1), RGBA(96, 197, 234, 1)]
                Items: =averageGroupScoresLinegraph
                PressedBorderColor: =
                Visible: =If(presDefault = 3 && dropdown_courses_1.Selected.value = "Groepsgemiddelde", true,false)
                Width: =841
                X: =14
                XLabelAngle: =40
                Y: =42
                YAxisMax: =100
                YAxisMin: =-5
                ZIndex: =4

            LineChart2_1_student2 As lineChart:
                BorderStyle: =
                Color: =
                DisabledBorderColor: =
                DisplayMode: =DisplayMode.Disabled
                Height: =476
                HoverBorderColor: =
                ItemColorSet: =[RGBA(243, 243, 243, 0.6),RGBA(48,166,103, 1), RGBA(94,193,108,1), RGBA(246,199,144,1), RGBA(247,199,114,1), RGBA(247,180,91,1), RGBA(246,143,100,1), RGBA(212,96,104,1), RGBA(148, 110, 176, 1), RGBA(118, 154, 204, 1), RGBA(96, 197, 234, 1)]
                Items: =currComparingStudentLinegraph
                PressedBorderColor: =
                Visible: =If(presDefault = 3 && dropdown_courses_1.Selected.value <> "Groepsgemiddelde", true,false)
                Width: =841
                X: =14
                XLabelAngle: =40
                Y: =42
                YAxisMax: =100
                YAxisMin: =-5
                ZIndex: =5

            LineChart2_1 As lineChart:
                BorderStyle: =
                Color: =RGBA(255, 255, 255, 1)
                DisplayMode: =DisplayMode.Disabled
                Height: =476
                ItemColorSet: =[RGBA(192, 5, 230, 1),RGBA(48,166,103, 1), RGBA(94,193,108,1), RGBA(246,199,144,1), RGBA(247,199,114,1), RGBA(247,180,91,1), RGBA(246,143,100,1), RGBA(212,96,104,1), RGBA(148, 110, 176, 1), RGBA(118, 154, 204, 1), RGBA(96, 197, 234, 1)]
                Items: |-
                    =ForAll(
                            Filter(
                                scores,
                                studentID = currPresStudent.Email && courseID = dropdown_courses_3.Selected.groupID
                            ),
                            {
                                score: score,
                                Examen: Examen
                            }
                        )
                Visible: =If(presDefault = 3, true,false)
                Width: =841
                X: =14
                XLabelAngle: =40
                Y: =42
                YAxisMax: =100
                YAxisMin: =-5
                ZIndex: =6

            dropdown_courses_1 As dropdown:
                BorderColor: =RGBA(255, 255, 255, 1)
                BorderStyle: =BorderStyle.None
                ChevronBackground: =RGBA(192, 5, 230, 1)
                ChevronFill: =RGBA(0, 0, 0, 1)
                ChevronHoverBackground: =ColorFade(RGBA(192, 5, 230, 1), -20%)
                Color: =RGBA(255, 255, 255, 1)
                Default: ="All"
                Fill: =RGBA(63, 63, 63, 1)
                Height: =32
                HoverFill: =RGBA(219, 219, 219, 0.4)
                Items: =dropdownMenuOptions
                OnChange: |+
                    =If(dropdown_courses_1.Selected.value <> "Groepsgemiddelde", Set(isComparing, true), Set(isComparing, false));
                    
                    If(isComparing = true, Set(currComparingStudentEmail, LookUp(studenten_tabel, studentID = dropdown_courses_1.Selected.studentID).Email);
                    ClearCollect(
                        groupScores,
                        Filter(
                            scores,
                            groupID = gallery_students.Selected.groupID
                        )
                    );
                    ClearCollect(
                        uniqueExams,
                        Distinct(
                            groupScores,
                            Examen
                        )
                    );
                    ClearCollect(
                        currComparingStudentLinegraph,
                        ForAll(
                            Filter(
                                scores,
                                studentID = currComparingStudentEmail
                            ),
                            {
                                score: score,
                                Examen: Examen,
                                Line: "Current"
                            }
                        )
                    ););
                    
                PressedColor: =RGBA(0, 0, 0, 1)
                PressedFill: =RGBA(255, 255, 255, 1)
                SelectionFill: =RGBA(192, 5, 230, 1)
                Visible: =If(presDefault = 3, true,false)
                Width: =278
                X: =333
                Y: =63
                ZIndex: =7

            dropdown_courses_3 As dropdown:
                BorderColor: =RGBA(255, 255, 255, 1)
                BorderStyle: =BorderStyle.None
                ChevronBackground: =RGBA(192, 5, 230, 1)
                ChevronFill: =RGBA(0, 0, 0, 1)
                ChevronHoverBackground: =ColorFade(RGBA(192, 5, 230, 1), -20%)
                Color: =RGBA(255, 255, 255, 1)
                Default: ="All"
                Fill: =RGBA(60, 60, 60, 1)
                Height: =30
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =RGBA(192, 5, 230, 0.6)
                Items: |
                    =    Filter(
                            groepens,
                            groupID in Filter(
                                groepsInhoud,
                                student_id = gallery_students.Selected.studentID
                            ).groep_id
                        )
                PressedFill: =RGBA(255, 255, 255, 1)
                SelectionFill: =RGBA(192, 5, 230, 0.6)
                Visible: =If(presDefault = 1 || 2, true, false)
                Width: =214
                X: =209
                Y: =12
                ZIndex: =8

            Label28 As label:
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                FontWeight: =FontWeight.Lighter
                Height: =70
                Text: ="Geen scores gevonden."
                Visible: |-
                    =If(presDefault = 1, If(
                        !IsEmpty(
                            Filter(
                                scores,
                                studentID = currPresStudent.Email && groupID = dropdown_courses_3.SelectedText.Value
                            )
                        ),
                        false,
                        true
                    ),false)
                Width: =438
                X: =209
                Y: =231
                ZIndex: =9

            Label29 As label:
                Color: =RGBA(255, 255, 255, 1)
                Text: |-
                    ="Geselecteerde groep:"
                Width: =208
                X: =14
                Y: =6
                ZIndex: =10

            dropdown_courses_4 As dropdown:
                BorderColor: =RGBA(255, 255, 255, 1)
                BorderStyle: =BorderStyle.None
                ChevronBackground: =RGBA(192, 5, 230, 1)
                ChevronFill: =RGBA(0, 0, 0, 1)
                ChevronHoverBackground: =ColorFade(RGBA(192, 5, 230, 1), -20%)
                Color: =RGBA(255, 255, 255, 1)
                Default: ="All"
                Fill: =RGBA(63, 63, 63, 1)
                Height: =32
                HoverFill: =RGBA(219, 219, 219, 0.4)
                Items: =dropdownMenuOptions
                OnChange: |+
                    =If(dropdown_courses_4.Selected.value <> "Groepsgemiddelde", Set(isComparing, true), Set(isComparing, false));
                    
                    If(isComparing = true, Set(currComparingStudentEmail, LookUp(studenten_tabel, studentID = dropdown_courses_4.Selected.studentID).Email);
                    ClearCollect(
                        groupScores,
                        Filter(
                            scores,
                            groupID = gallery_students.Selected.groupID
                        )
                    );
                    ClearCollect(
                        uniqueExams,
                        Distinct(
                            groupScores,
                            Examen
                        )
                    );
                    ClearCollect(
                        currComparingStudentLinegraph,
                        ForAll(
                            Filter(
                                scores,
                                studentID = currComparingStudentEmail
                            ),
                            {
                                score: score,
                                Examen: Examen,
                                Line: "Current"
                            }
                        )
                    ););
                    
                PressedColor: =RGBA(0, 0, 0, 1)
                PressedFill: =RGBA(255, 255, 255, 1)
                SelectionFill: =RGBA(192, 5, 230, 1)
                Visible: =If(presDefault = 3, true,false)
                Width: =278
                X: =556
                Y: =14
                ZIndex: =11

        Group5 As group:
            Height: =5
            Width: =5
            X: =40
            Y: =40
            ZIndex: =16

            Label16 As label:
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                Height: =58
                Size: =11
                Text: ="Hoogst behaalde score"
                Width: =152
                X: =936
                Y: =162
                ZIndex: =10

            PieChart2 As pieChart:
                DisplayMode: =DisplayMode.View
                Height: =176
                HoverBorderColor: =
                ItemBorderColor: =
                ItemBorderThickness: =0
                ItemColorSet: =[RGBA(192, 5, 230, 1),RGBA(60, 60, 60, 1), RGBA(94,193,108,1), RGBA(246,199,144,1), RGBA(247,199,114,1), RGBA(247,180,91,1), RGBA(246,143,100,1), RGBA(212,96,104,1), RGBA(148, 110, 176, 1), RGBA(118, 154, 204, 1), RGBA(96, 197, 234, 1)]
                Items: =highestScore
                ShowLabels: =false
                Width: =158
                X: =933
                Y: =16
                ZIndex: =13

            Circle1 As circle:
                Fill: =RGBA(60, 60, 60, 1)
                Height: =72
                Width: =72
                X: =976
                Y: =68
                ZIndex: =14

            Label18 As label:
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                Height: =48
                Text: =(First(highestScore).score)
                Width: =49
                X: =987
                Y: =80
                ZIndex: =15

        Group5_1 As group:
            Height: =5
            Width: =5
            X: =-893
            Y: =4
            ZIndex: =20

            Label16_1 As label:
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                Height: =58
                Size: =11
                Text: ="Laagst behaalde score"
                Width: =152
                X: =933
                Y: =374
                ZIndex: =16

            PieChart2_1 As pieChart:
                DisplayMode: =DisplayMode.View
                Height: =176
                HoverBorderColor: =
                ItemBorderColor: =
                ItemBorderThickness: =0
                ItemColorSet: =[RGBA(192, 5, 230, 1),RGBA(60, 60, 60, 1), RGBA(94,193,108,1), RGBA(246,199,144,1), RGBA(247,199,114,1), RGBA(247,180,91,1), RGBA(246,143,100,1), RGBA(212,96,104,1), RGBA(148, 110, 176, 1), RGBA(118, 154, 204, 1), RGBA(96, 197, 234, 1)]
                Items: =lowestScore
                ShowLabels: =false
                Width: =158
                X: =930
                Y: =228
                ZIndex: =17

            Circle1_1 As circle:
                Fill: =RGBA(60, 60, 60, 1)
                Height: =72
                Width: =72
                X: =973
                Y: =280
                ZIndex: =18

            Label18_1 As label:
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                Height: =48
                Text: =(First(lowestScore).score)
                Width: =49
                X: =984
                Y: =292
                ZIndex: =19

        Button6 As button:
            BorderStyle: =BorderStyle.None
            Fill: =If(presDefault = 1,RGBA(192,5,230,1),RGBA(45, 45, 45, 1))
            FontWeight: =FontWeight.Normal
            Height: =30
            HoverFill: =If(presDefault = 1,RGBA(192,5,230,0.8),RGBA(45, 45, 45, 0.8))
            OnSelect: =Set(presDefault, 1)
            RadiusBottomRight: =0
            RadiusTopRight: =0
            Size: =11
            Text: ="Lijndiagram"
            Width: =285
            X: =21
            Y: =99
            ZIndex: =24

        Group5_2 As group:
            Height: =5
            Width: =5
            X: =-890
            Y: =-218
            ZIndex: =24

            Label16_2 As label:
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                Height: =58
                Size: =11
                Text: ="Gemiddelde score"
                Width: =152
                X: =939
                Y: =598
                ZIndex: =20

            PieChart2_2 As pieChart:
                DisplayMode: =DisplayMode.View
                Height: =176
                HoverBorderColor: =
                ItemBorderColor: =
                ItemBorderThickness: =0
                ItemColorSet: =[RGBA(192, 5, 230, 1),RGBA(60, 60, 60, 1), RGBA(94,193,108,1), RGBA(246,199,144,1), RGBA(247,199,114,1), RGBA(247,180,91,1), RGBA(246,143,100,1), RGBA(212,96,104,1), RGBA(148, 110, 176, 1), RGBA(118, 154, 204, 1), RGBA(96, 197, 234, 1)]
                Items: =averageScoreCircle
                ShowLabels: =false
                Width: =158
                X: =936
                Y: =452
                ZIndex: =21

            Circle1_2 As circle:
                Fill: =RGBA(60, 60, 60, 1)
                Height: =72
                Width: =72
                X: =979
                Y: =504
                ZIndex: =22

            Label18_2 As label:
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                Height: =48
                Text: =(First(averageScoreCircle).score)
                Width: =49
                X: =990
                Y: =516
                ZIndex: =23

        Button6_1 As button:
            BorderStyle: =BorderStyle.None
            Fill: =If(presDefault = 2,RGBA(192,5,230,1),RGBA(45, 45, 45, 1))
            FontWeight: =FontWeight.Normal
            Height: =30
            HoverFill: =If(presDefault = 2,RGBA(192,5,230,0.8),RGBA(45, 45, 45, 0.8))
            OnSelect: =Set(presDefault, 2)
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =11
            Text: ="Vooruitgang"
            Width: =285
            X: =306
            Y: =99
            ZIndex: =25

        Button6_2 As button:
            BorderStyle: =BorderStyle.None
            Fill: =If(presDefault = 3,RGBA(192,5,230,1),RGBA(45, 45, 45, 1))
            FontWeight: =FontWeight.Normal
            Height: =30
            HoverFill: =If(presDefault =3,RGBA(192,5,230,0.8),RGBA(45, 45, 45, 0.8))
            OnSelect: |+
                =Set(presDefault, 3);
                //LINEGRAPH CALCULATING
                ClearCollect(
                    groupScores,
                    Filter(
                        scores,
                        groupID = gallery_students.Selected.groupID
                    )
                );
                ClearCollect(
                    uniqueExams,
                    Distinct(
                        groupScores,
                        Examen
                    )
                );
                ClearCollect(
                    averageGroupScoresLinegraph,
                    ForAll(
                        uniqueExams,
                        {
                            Examen: Value,
                            score: Text(Round(
                                Average(
                                    Filter(
                                        groupScores,
                                        Examen = Value
                                    ),
                                    score
                                ),
                                1
                            )),
                            Line: "Previous"
                        }
                    )
                );
                
                
                
                //LINEGRAPH DATA MAKING
                ClearCollect(
                    currStudentScoresLinegraph,
                    ForAll(
                        Filter(
                            scores,
                            studentID = gallery_students.Selected.Email
                        ),
                        {
                            score: score,
                            Examen: Examen,
                            Line: "Current"
                        }
                    )
                );
                
                
                ClearCollect(combinedScoresLinegraph, averageGroupScoresLinegraph);
                Collect(combinedScoresLinegraph, currStudentScoresLinegraph);
                
                
                
                
                
                
                
                
            RadiusBottomLeft: =0
            RadiusTopLeft: =0
            Size: =11
            Text: ="Vergelijken"
            Width: =285
            X: =591
            Y: =99
            ZIndex: =26

    navigatie_component_4 As navigatie_component:
        nav_agendaScreen: =agenda_screen
        nav_cursussenScreen: =courses_screen_1
        nav_groepenScreen: =groups_screen
        nav_intakesScreen: =intakes_screen
        nav_presenterenScreen: =presentatie_screen
        nav_studentenScreen: =students_screen
        ZIndex: =41

