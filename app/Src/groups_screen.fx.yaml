groups_screen As screen:
    Fill: =RGBA(45, 45, 45, 1)
    OnHidden: =
    OnVisible: |
        =ClearCollect(
            groupScores,
            Filter(
                scores,
                groupID = gallery_courses_3.Selected.groupID
            )
        );
        Set(
            averageScoreValue,
            If(
                CountRows(averageScore) > 0,
                Average(
                    averageScore,
                    score
                ),
                0
            )
        );
        Clear(allNewStudentIDsForGroup);
        Reset(SearchInput1_1);
        
        Set(
            currComparingStudentEmail,
            LookUp(
                studenten_tabel,
                studentID = dropdown_courses_4.Selected.studentID
            ).Email
        );
        
        ClearCollect(
            groupScores,
            Filter(
                scores,
                groupID = dropdown_courses_3.Selected.groupID
            )
        );
        ClearCollect(
            uniqueExams,
            Distinct(
                groupScores,
                Examen
            )
        );
        ClearCollect(
            currComparingStudentLinegraph,
            ForAll(
                Filter(
                    scores,
                    studentID = currComparingStudentEmail
                ),
                {
                    score: score,
                    Examen: Examen,
                    Line: "Current"
                }
            )
        );

    navigatie_component_5 As navigatie_component:
        nav_agendaScreen: =agenda_screen
        nav_cursussenScreen: =courses_screen_1
        nav_groepenScreen: =groups_screen
        nav_intakesScreen: =intakes_screen
        nav_presenterenScreen: =presentatie_screen
        nav_studentenScreen: =students_screen

    container_19 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Fill: =RGBA(60, 60, 60, 1)
        Height: =300
        RadiusBottomLeft: =15
        RadiusBottomRight: =15
        RadiusTopLeft: =15
        RadiusTopRight: =15
        X: =180
        Y: =415
        ZIndex: =2

        label_chart_error_2 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Lighter
            Height: =75
            Text: ="Er is geen grafiek beschikbaar."
            Visible: |-
                =If(
                    IsEmpty(
                        Filter(
                            scores,
                            groupID = gallery_courses_3.Selected.groupID
                        )
                    ),
                    true,
                    false
                )
            Width: =500
            Y: =113
            ZIndex: =6

        Label15 As label:
            Text: =averageScoreValue
            Visible: =
            X: =40
            Y: =40
            ZIndex: =7

        LineChart1_3 As lineChart:
            BorderStyle: =BorderStyle.None
            Color: =RGBA(255, 255, 255, 1)
            DisplayMode: =DisplayMode.View
            Height: =300
            ItemColorSet: =[RGBA(192, 5, 230, 1),RGBA(48,166,103, 1), RGBA(94,193,108,1), RGBA(246,199,144,1), RGBA(247,199,114,1), RGBA(247,180,91,1), RGBA(246,143,100,1), RGBA(212,96,104,1), RGBA(148, 110, 176, 1), RGBA(118, 154, 204, 1), RGBA(96, 197, 234, 1)]
            Items: =averageGroupScoresLinegraph_GroupPage
            NumberOfSeries: =0
            PaddingRight: =0
            ShowValues: =
            Visible: |-
                =If(
                    IsEmpty(
                        Filter(
                            scores,
                            groupID = gallery_courses_3.Selected.groupID
                        )
                    ),
                    false,
                    true
                )
            Width: =500
            XLabelAngle: =55
            YAxisMax: =100
            YAxisMin: =0
            ZIndex: =8

    container_37 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Fill: =RGBA(60, 60, 60, 1)
        Height: =257
        RadiusBottomLeft: =15
        RadiusBottomRight: =15
        RadiusTopLeft: =15
        RadiusTopRight: =15
        X: =180
        Y: =138
        ZIndex: =3

        "gallery_courses_3 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            DelayItemLoading: =true
            Height: =257
            Items: |
                =Filter(groepens, StartsWith(name, SearchInput1_1.Text))
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            OnSelect: |
                =Clear(groupScores_GroupPage);
                Clear(uniqueExams_GroupPage);
                Clear(averageGroupScoresLinegraph_GroupPage);
                
                If(
                    IsEmpty(
                        Filter(
                            scores,
                            courseID = gallery_courses_3.Selected.course 
                        )
                    ),
                    Set(
                        error_groupScoresEmpty,
                        true
                    ),
                    ClearCollect(
                        groupScores_GroupPage,
                        Filter(
                            scores,
                            groupID = gallery_courses_3.Selected.groupID
                        )
                    );
                    ClearCollect(
                        uniqueExams_GroupPage,
                        Distinct(
                            groupScores_GroupPage,
                            Examen
                        )
                    );
                    ClearCollect(
                        averageGroupScoresLinegraph_GroupPage,
                        ForAll(
                            uniqueExams_GroupPage,
                            {
                                Examen: Value,
                                score: Text(
                                    Round(
                                        Average(
                                            Filter(
                                                groupScores_GroupPage,
                                                Examen = Value
                                            ),
                                            score
                                        ),
                                        1
                                    )
                                ),
                                Line: "Previous"
                            }
                        )
                    );
                    Set(
                        error_groupScoresEmpty,
                        false
                    );
                );
            ShowScrollbar: =false
            TemplatePadding: =0
            TemplateSize: =90
            Visible: |-
                =If(
                    IsEmpty(
                        Filter(
                            groepens,
                            StartsWith(
                                name,
                                SearchInput1_1.Text
                            )
                        )
                    ),
                    false,
                    true
                )
            Width: =500
            ZIndex: =1

            gallery_students_titleText_5 As label:
                Color: =RGBA(255, 255, 255, 1)
                Height: =26
                OnSelect: =Select(Parent)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =ThisItem.name
                VerticalAlign: =VerticalAlign.Top
                Width: =Parent.TemplateWidth - 86
                X: =16
                Y: =26
                ZIndex: =1

            gallery_students_titleText_6 As label:
                Color: =RGBA(255, 255, 255, 1)
                Height: =26
                OnSelect: =Select(Parent)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =12
                Text: =ThisItem.course
                VerticalAlign: =VerticalAlign.Top
                Width: =Parent.TemplateWidth - 86
                X: =16
                Y: =52
                ZIndex: =2

            gallery_students_backgroundButton_1 As button:
                BorderStyle: =BorderStyle.None
                DisabledFill: =RGBA(0, 0, 0, 0)
                Fill: =If(ThisItem.IsSelected, RGBA(192, 5, 230, 0.1), RGBA(0,0,0,0))
                Height: =90
                HoverFill: =
                OnSelect: =Select(Parent)
                PressedFill: =
                Text: =""
                Width: =500
                ZIndex: =3

            Icon6_2 As icon.Cancel:
                Color: =RGBA(192, 5, 230, 1)
                Height: =26
                HoverBorderColor: =ColorFade(Self.Color, 20%)
                Icon: =Icon.Cancel
                OnSelect: =Set(varShowDeleteGroupPopup, true)
                Width: =68
                X: =430
                Y: =26
                ZIndex: =4

        label_gallery_students_error_4 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Lighter
            Height: =61
            Text: ="Geen groepen gevonden."
            Visible: |-
                =If(
                    IsEmpty(
                        Filter(
                            groepens,
                            StartsWith(
                                name,
                                SearchInput1_1.Text
                            )
                        )
                    ),
                    true,
                    false
                )
            Width: =500
            Y: =95
            ZIndex: =2

    container_18 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Fill: =RGBA(60, 60, 60, 1)
        Height: =140
        RadiusBottomLeft: =15
        RadiusBottomRight: =15
        RadiusTopLeft: =15
        RadiusTopRight: =15
        Width: =600
        X: =726
        Y: =40
        ZIndex: =4

        label_scoreTitle_1 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            Size: =16
            Text: ="Scores"
            Width: =600
            Y: =10
            ZIndex: =1

        "gallery_score_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            DelayItemLoading: =true
            Height: =88
            Items: =averageGroupScoresLinegraph_GroupPage
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            ShowScrollbar: =false
            TemplatePadding: =0
            TemplateSize: =40
            Visible: |-
                =If(
                    error_groupScoresEmpty,
                    false,
                    true
                )
            Width: =600
            Y: =50
            ZIndex: =2

            gallery_score_examen_1 As label:
                Color: =RGBA(255, 255, 255, 1)
                FontWeight: =FontWeight.Lighter
                OnSelect: =Select(Parent)
                Text: =ThisItem.Examen
                X: =95
                ZIndex: =3

            gallery_score_scores_1 As label:
                Color: =RGBA(255, 255, 255, 1)
                OnSelect: =Select(Parent)
                Text: =ThisItem.score
                X: =15
                ZIndex: =4

        label_scoreTitle_error_1 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Lighter
            Height: =75
            Text: ="Er zijn geen scores beschikbaar."
            Visible: =
            Width: =600
            Y: =63
            ZIndex: =3

        label_chart_error_3 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Lighter
            Height: =75
            Text: ="Er zijn geen scores beschikbaar."
            Visible: |-
                =If(
                    error_groupScoresEmpty,
                    true,
                    false
                )
            Width: =600
            Y: =56
            ZIndex: =4

    container_22 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Fill: =RGBA(60, 60, 60, 1)
        Height: =202
        RadiusBottomLeft: =15
        RadiusBottomRight: =15
        RadiusTopLeft: =15
        RadiusTopRight: =15
        Width: =600
        X: =725
        Y: =380
        ZIndex: =5

        "gallery_groups_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            DelayItemLoading: =true
            Height: =202
            Items: |
                =Filter(
                    studenten_tabel,
                    studentID in Filter(
                        groepsInhoud,
                        gallery_courses_3.Selected.groupID in groep_id
                    ).student_id
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            ShowScrollbar: =false
            TemplatePadding: =0
            TemplateSize: =90
            Visible: |-
                =If(
                        !IsBlank(gallery_courses_3.Selected),
                
                    true,
                    false
                )
            Width: =600
            ZIndex: =5

            gallery_students_titleText_2 As label:
                Color: =RGBA(255, 255, 255, 1)
                Height: =Self.Size * 1.8
                OnSelect: =Select(Parent)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =ThisItem.Voornaam & " " & ThisItem.Achternaam
                VerticalAlign: =VerticalAlign.Top
                Width: =Parent.TemplateWidth - 86
                X: =16
                Y: =(Parent.TemplateHeight - (Self.Size * 1.8 + gallery_students_emailText_2.Size * 1.8)) / 2
                ZIndex: =2

            gallery_students_emailText_2 As label:
                Color: =RGBA(255, 255, 255, 1)
                FontWeight: =FontWeight.Lighter
                OnSelect: =Select(Parent)
                PaddingLeft: =0
                Text: =ThisItem.Email
                Width: =270
                X: =16
                Y: =37
                ZIndex: =3

        label_chart_error_4 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Lighter
            Height: =75
            Text: ="Er zijn (nog) geen studenten in deze groep."
            Visible: |
                =If(
                    IsEmpty(Filter(
                    studenten_tabel,
                    studentID in Filter(
                        groepsInhoud,
                        gallery_courses_3.Selected.groupID in groep_id
                    ).student_id
                )),
                    true,
                    false
                )
            Width: =600
            Y: =63
            ZIndex: =6

    container_17 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Fill: =RGBA(60, 60, 60, 1)
        Height: =75
        RadiusBottomLeft: =15
        RadiusBottomRight: =15
        RadiusTopLeft: =15
        RadiusTopRight: =15
        X: =180
        Y: =40
        ZIndex: =6

        SearchInput1_1 As text:
            BorderStyle: =BorderStyle.None
            Color: =RGBA(255, 255, 255, 1)
            Default: =""
            DisabledColor: =RGBA(255, 255, 255, 1)
            DisabledFill: =RGBA(45, 45, 45, 1)
            Fill: =RGBA(45, 45, 45, 1)
            HintText: ="Zoek groep..."
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =RGBA(45, 45, 45, 1)
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Width: =365
            X: =15
            Y: =17
            ZIndex: =1

        Icon1_2 As icon.Search:
            Color: =RGBA(192, 5, 230, 1)
            Height: =35
            Icon: =Icon.Search
            Width: =35
            X: =400
            Y: =19
            ZIndex: =2

        Icon1_8 As icon.Search:
            Color: =RGBA(192, 5, 230, 1)
            Height: =35
            Icon: =Icon.Add
            OnSelect: =Set(varShowCreateGroupPopup, true);
            Width: =35
            X: =452
            Y: =19
            ZIndex: =3

    container_24 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Fill: =RGBA(60, 60, 60, 1)
        Height: =125
        RadiusBottomLeft: =15
        RadiusBottomRight: =15
        RadiusTopLeft: =15
        RadiusTopRight: =15
        Width: =600
        X: =725
        Y: =600
        ZIndex: =7

        groep_verwijder_1 As group:
            Height: =5
            Width: =5
            X: =60
            Y: =60
            ZIndex: =8

            groep_verwijder_icon_1 As image:
                Height: =60
                Image: =user_x_line
                OnSelect: =Set(varShowDeletePopup, true);
                Width: =60
                X: =444
                Y: =25
                ZIndex: =4

            groep_verwijder_text_1 As label:
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                OnSelect: =Set(varShowDeletePopup, true);
                Size: =11
                Text: ="Student verwijderen"
                Width: =168
                X: =390
                Y: =79
                ZIndex: =5

            groep_verwijder_knop_1 As button:
                BorderStyle: =BorderStyle.None
                Color: =RGBA(0, 0, 0, 0)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledFill: =RGBA(0, 0, 0, 0)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =94
                HoverFill: =
                OnSelect: =Set(varShowDeletePopup, true);
                PressedFill: =
                Text: =""
                Width: =86
                X: =431
                Y: =25
                ZIndex: =6

        "'kandidaat toevoegen' As group":
            Height: =5
            Width: =5
            X: =80
            Y: =80
            ZIndex: =10

            groep_verwijder_text_2 As label:
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                OnSelect: =Set(varShowAddPopup, true);
                Size: =11
                Text: ="Student toevoegen"
                Width: =169
                X: =38
                Y: =76
                ZIndex: =7

            groep_verwijder_knop_2 As button:
                BorderStyle: =BorderStyle.None
                Color: =RGBA(0, 0, 0, 0)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledFill: =RGBA(0, 0, 0, 0)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =94
                HoverFill: =
                OnSelect: =Set(varShowAddPopup, true);
                PressedFill: =
                Text: =""
                Width: =86
                X: =38
                Y: =14
                ZIndex: =8

            Icon7 As icon.Add:
                Color: =RGBA(255, 255, 255, 1)
                Height: =60
                Icon: =Icon.Add
                OnSelect: =Set(varShowAddPopup, true);
                Width: =60
                X: =92
                Y: =25
                ZIndex: =9

        Group3_1 As group:
            Height: =5
            Width: =5
            X: =-148
            Y: =6
            ZIndex: =13

            intake_icon_6 As image:
                Height: =60
                Image: =presentation_2_line
                Width: =60
                X: =268
                Y: =27
                ZIndex: =10

            label_intake_6 As label:
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                Size: =11
                Text: ="Presenteer"
                Width: =138
                X: =229
                Y: =81
                ZIndex: =11

            presenteerNav_knop_1 As button:
                BorderStyle: =BorderStyle.None
                Color: =RGBA(0, 0, 0, 0)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledFill: =RGBA(0, 0, 0, 0)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =94
                HoverFill: =
                OnSelect: |-
                    =Set(currPresStudent, gallery_students.Selected);
                    Navigate(presentatie_screen);
                PressedFill: =
                Text: =""
                Width: =86
                X: =255
                Y: =22
                ZIndex: =12

    container_25 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Fill: =RGBA(60, 60, 60, 1)
        Height: =139
        RadiusBottomLeft: =15
        RadiusBottomRight: =15
        RadiusTopLeft: =15
        RadiusTopRight: =15
        Width: =600
        X: =725
        Y: =210
        ZIndex: =8

        label_scoreTitle_2 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            Size: =16
            Text: ="Groep " & gallery_courses_3.Selected.name
            Width: =600
            ZIndex: =1

        label_chart_error_7 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Lighter
            Height: =75
            Text: ="Er zijn (nog) geen studenten in deze groep."
            Visible: |
                =If(
                    IsEmpty(Filter(groepsInhoud, groep_id = gallery_courses_3.Selected.groupID)),
                    true,
                    false
                )
            Width: =600
            Y: =27
            ZIndex: =8

        Group9 As group:
            Height: =5
            Width: =5
            X: =60
            Y: =60
            ZIndex: =9

            Label2 As label:
                Color: =RGBA(255, 255, 255, 1)
                Text: |
                    =gallery_courses_3.Selected.course
                Visible: |-
                    =If(
                        IsEmpty(Filter(groepsInhoud, groep_id = gallery_courses_3.Selected.groupID)) ||     IsBlank(gallery_courses_3.Selected),
                    
                        false,
                        true
                    )
                Width: =180
                X: =39
                Y: =80
                ZIndex: =4

            Label2_2 As label:
                Color: =RGBA(255, 255, 255, 1)
                Text: |
                    =CountRows(
                        Filter(
                            groepsInhoud,
                            groep_id = gallery_courses_3.Selected.groupID && student_id in studenten_tabel.studentID
                        )
                    )
                Visible: |-
                    =If(
                        IsEmpty(Filter(groepsInhoud, groep_id = gallery_courses_3.Selected.groupID)) ||     IsBlank(gallery_courses_3.Selected),
                    
                        false,
                        true
                    )
                Width: =154
                X: =321
                Y: =80
                ZIndex: =5

            Label2_3 As label:
                Color: =RGBA(255, 255, 255, 1)
                FontWeight: =FontWeight.Bold
                Text: ="Cursus"
                Visible: |-
                    =If(
                        IsEmpty(Filter(groepsInhoud, groep_id = gallery_courses_3.Selected.groupID)) ||     IsBlank(gallery_courses_3.Selected),
                    
                        false,
                        true
                    )
                Width: =78
                X: =40
                Y: =40
                ZIndex: =6

            Label2_4 As label:
                Color: =RGBA(255, 255, 255, 1)
                FontWeight: =FontWeight.Bold
                Height: =30
                Text: ="Aantal studenten"
                Visible: |-
                    =If(
                        IsEmpty(Filter(groepsInhoud, groep_id = gallery_courses_3.Selected.groupID)) ||     IsBlank(gallery_courses_3.Selected),
                    
                        false,
                        true
                    )
                Width: =267
                X: =321
                Y: =50
                ZIndex: =7

    Group11 As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =37

        popup_background_8 As rectangle:
            Fill: =RGBA(45, 45, 45, 0.8)
            Height: =768
            Visible: =varShowAddPopup
            Width: =1366
            ZIndex: =9

        popup_box_8 As button:
            AutoDisableOnSelect: =false
            BorderStyle: =BorderStyle.None
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(60, 60, 60, 1)
            Height: =468
            Text: =""
            Visible: =varShowAddPopup
            Width: =741
            X: =313
            Y: =150
            ZIndex: =10

        popup_header_6 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Semibold
            Height: =54
            Size: =18
            Text: ="Studenten toevoegen"
            Visible: =varShowAddPopup
            Width: =505
            X: =429
            Y: =150
            ZIndex: =11

        "addStudentToGroup_gallery As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            DelayItemLoading: =true
            Height: =274
            Items: |
                =Filter(
                    studenten_tabel,
                    !(studentID in Filter(
                        groepsInhoud,
                        groep_id = gallery_courses_3.Selected.groupID
                    ).student_id) &&
                    (
                        StartsWith(Voornaam, SearchInput1_3.Text) ||
                        StartsWith(Achternaam, SearchInput1_3.Text) ||
                        StartsWith(Email, SearchInput1_3.Text)
                    ) &&
                    !IsBlank(Email)  // This condition filters out records where Email is empty
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =80
            Visible: =varShowAddPopup
            Width: =706
            X: =330
            Y: =292
            ZIndex: =25

            Title1 As label:
                Color: =RGBA(255, 255, 255, 1)
                Height: =Self.Size * 1.8
                OnSelect: =Select(Parent)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =ThisItem.Voornaam & " " & ThisItem.Achternaam
                VerticalAlign: =VerticalAlign.Top
                Width: =Parent.TemplateWidth - 173
                X: =58
                Y: =15
                ZIndex: =2

            Subtitle1 As label:
                Color: =RGBA(255, 255, 255, 1)
                FontWeight: =FontWeight.Lighter
                Height: =Self.Size * 1.8
                OnSelect: =Select(Parent)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =ThisItem.Email
                VerticalAlign: =VerticalAlign.Top
                Width: =Title1.Width
                X: =58
                Y: =40
                ZIndex: =3

            Checkbox1 As checkbox:
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                CheckboxBorderColor: =RGBA(0, 0, 0, 0)
                CheckboxSize: =35
                CheckmarkFill: =RGBA(192, 5, 230, 1)
                Color: =RGBA(192, 5, 230, 1)
                Default: =
                DisabledColor: =RGBA(192, 5, 230, 1)
                Fill: =RGBA(45, 45, 45, 0)
                Height: =70
                HoverColor: =RGBA(192, 5, 230, 1)
                HoverFill: =RGBA(0, 0, 0, 0)
                OnCheck: =Collect(allNewStudentIDsForGroup, addStudentToGroup_gallery.Selected.studentID)
                OnSelect: =Select(Parent)
                OnUncheck: =RemoveIf(allNewStudentIDsForGroup, Value = addStudentToGroup_gallery.Selected.studentID)
                PressedColor: =RGBA(192, 5, 230, 1)
                PressedFill: =RGBA(0, 0, 0, 0)
                Reset: =resetCheckboxVar
                Text: =""
                Width: =38
                X: =7
                Y: =5
                ZIndex: =4

        container_39 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Fill: =RGBA(60, 60, 60, 1)
            Height: =75
            RadiusBottomLeft: =15
            RadiusBottomRight: =15
            RadiusTopLeft: =15
            RadiusTopRight: =15
            Visible: =varShowAddPopup
            Width: =483
            X: =442
            Y: =204
            ZIndex: =26

            SearchInput1_3 As text:
                BorderStyle: =BorderStyle.None
                Color: =RGBA(255, 255, 255, 1)
                Default: =""
                DisabledColor: =RGBA(255, 255, 255, 1)
                DisabledFill: =RGBA(45, 45, 45, 1)
                Fill: =RGBA(45, 45, 45, 1)
                HintText: ="Zoek student..."
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =RGBA(45, 45, 45, 1)
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =400
                X: =15
                Y: =17
                ZIndex: =1

            Icon1_4 As icon.Search:
                Color: =RGBA(192, 5, 230, 1)
                Height: =35
                Icon: =Icon.Search
                Width: =35
                X: =432
                Y: =17
                ZIndex: =2

        Icon13 As icon.Cancel:
            Color: =RGBA(192, 5, 230, 1)
            Height: =35
            Icon: =Icon.Cancel
            OnSelect: |-
                =Refresh(groepens);
                Refresh(studenten_tabel);
                Set(varShowAddPopup, false);
                Clear(allNewStudentIDsForGroup)
            Visible: =varShowAddPopup
            Width: =35
            X: =337
            Y: =171
            ZIndex: =27

    Group11_1 As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =43

        popup_background_11 As rectangle:
            Fill: =RGBA(45, 45, 45, 0.8)
            Height: =768
            Visible: =varShowDeletePopup
            Width: =1366
            ZIndex: =28

        popup_box_10 As button:
            AutoDisableOnSelect: =false
            BorderStyle: =BorderStyle.None
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(60, 60, 60, 1)
            Height: =468
            Text: =""
            Visible: =varShowDeletePopup
            Width: =741
            X: =313
            Y: =150
            ZIndex: =29

        popup_header_8 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Semibold
            Height: =54
            Size: =18
            Text: ="Studenten verwijderen"
            Visible: =varShowDeletePopup
            Width: =505
            X: =429
            Y: =150
            ZIndex: =30

        "addStudentToGroup_gallery_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            DelayItemLoading: =true
            Height: =274
            Items: |-
                =// Filter studenten_tabel based on the presence of student_id in groepsInhoud
                Filter(
                    studenten_tabel,
                    (studentID in Filter(
                        groepsInhoud,
                        groep_id = gallery_courses_3.Selected.groupID
                    ).student_id) && (StartsWith(
                        Voornaam,
                        SearchInput1_4.Text
                    ) || StartsWith(
                        Achternaam,
                        SearchInput1_4.Text
                    ) || StartsWith(
                        Email,
                        SearchInput1_4.Text
                    ))
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =80
            Visible: =varShowDeletePopup
            Width: =706
            X: =330
            Y: =292
            ZIndex: =31

            Title1_1 As label:
                Color: =RGBA(255, 255, 255, 1)
                Height: =Self.Size * 1.8
                OnSelect: =Select(Parent)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =ThisItem.Voornaam & " " & ThisItem.Achternaam
                VerticalAlign: =VerticalAlign.Top
                Width: =Parent.TemplateWidth - 173
                X: =58
                Y: =15
                ZIndex: =2

            Subtitle1_1 As label:
                Color: =RGBA(255, 255, 255, 1)
                FontWeight: =FontWeight.Lighter
                Height: =Self.Size * 1.8
                OnSelect: =Select(Parent)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =ThisItem.Email
                VerticalAlign: =VerticalAlign.Top
                Width: =Title1_1.Width
                X: =58
                Y: =40
                ZIndex: =3

            Checkbox1_1 As checkbox:
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                CheckboxBorderColor: =RGBA(0, 0, 0, 0)
                CheckboxSize: =35
                CheckmarkFill: =RGBA(192, 5, 230, 1)
                Color: =RGBA(192, 5, 230, 1)
                Default: =
                DisabledColor: =RGBA(192, 5, 230, 1)
                Fill: =RGBA(45, 45, 45, 0)
                Height: =70
                HoverColor: =RGBA(192, 5, 230, 1)
                HoverFill: =RGBA(0, 0, 0, 0)
                OnCheck: |
                    =Collect(
                        allDelStudentIDsForGroup,
                        {
                            Student_id: addStudentToGroup_gallery_1.Selected.studentID,
                            Groep_id: gallery_courses_3.Selected.groupID
                        }
                    );
                OnSelect: =Select(Parent)
                OnUncheck: =RemoveIf(allDelStudentIDsForGroup, Student_id = addStudentToGroup_gallery_1.Selected.studentID)
                PressedColor: =RGBA(192, 5, 230, 1)
                PressedFill: =RGBA(0, 0, 0, 0)
                Reset: =resetCheckboxVar
                Text: =""
                Width: =38
                X: =1
                ZIndex: =4

        container_40 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Fill: =RGBA(60, 60, 60, 1)
            Height: =75
            RadiusBottomLeft: =15
            RadiusBottomRight: =15
            RadiusTopLeft: =15
            RadiusTopRight: =15
            Visible: =varShowDeletePopup
            Width: =483
            X: =442
            Y: =204
            ZIndex: =32

            SearchInput1_4 As text:
                BorderStyle: =BorderStyle.None
                Color: =RGBA(255, 255, 255, 1)
                Default: =""
                DisabledColor: =RGBA(255, 255, 255, 1)
                DisabledFill: =RGBA(45, 45, 45, 1)
                Fill: =RGBA(45, 45, 45, 1)
                HintText: ="Zoek student..."
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =RGBA(45, 45, 45, 1)
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =400
                X: =15
                Y: =17
                ZIndex: =1

            Icon1_5 As icon.Search:
                Color: =RGBA(192, 5, 230, 1)
                Height: =35
                Icon: =Icon.Search
                Width: =35
                X: =432
                Y: =17
                ZIndex: =2

        Icon13_1 As icon.Cancel:
            Color: =RGBA(192, 5, 230, 1)
            Height: =35
            Icon: =Icon.Cancel
            OnSelect: |-
                =Refresh(groepens);
                Refresh(studenten_tabel);
                Set(varShowDeletePopup, false);
                Set(resetCheckboxVar, false);
                Clear(allDelStudentIDsForGroup);
            Visible: =varShowDeletePopup
            Width: =35
            X: =337
            Y: =171
            ZIndex: =33

    Group17_1 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =47

        Container5_1 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Fill: =RGBA(45, 45, 45, 1)
            Height: =40
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =varShowAddPopup
            Width: |
                =80
            X: =936
            Y: =566
            ZIndex: =34

        Icon14_4 As icon.Edit:
            Color: =RGBA(184, 0, 0, 1)
            Height: =28
            Icon: =Icon.Cancel
            OnSelect: |
                =Set(resetCheckboxVar, true); Set(resetCheckboxVar, false);
                Clear(allNewStudentIDsForGroup)
            Visible: =varShowAddPopup
            Width: =34
            X: =941
            Y: =571
            ZIndex: =35

        Icon14_5 As icon.Edit:
            Color: =RGBA(192, 5, 230, 1)
            Height: =28
            Icon: =Icon.Check
            OnSelect: |+
                =ClearCollect(kandidaten, studenten_tabel);
                
                // Filter locally: Collect items that match the condition into 'items' collection
                ClearCollect(
                    items,
                    Filter(
                        localGroepens,
                        groupID in Filter(kandidaten, studentID = studentID).studentID
                    )
                );
                
                ForAll(
                    allNewStudentIDsForGroup,
                    Patch(
                        groepsInhoud,
                        { 
                            groep_id: gallery_courses_3.Selected.groupID,
                            student_id: allNewStudentIDsForGroup[@Value],
                            cursus: gallery_courses_3.Selected.course
                        }
                    )
                )
                
            Visible: =varShowAddPopup
            Width: =34
            X: =975
            Y: =571
            ZIndex: =36

    Group17_2 As group:
        Height: =5
        Width: =5
        X: =20
        Y: =20
        ZIndex: =50

        Container5_2 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Fill: =RGBA(45, 45, 45, 1)
            Height: =40
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =varShowDeletePopup
            Width: =80
            X: =956
            Y: =571
            ZIndex: =37

        Icon14_6 As icon.Edit:
            Color: =RGBA(184, 0, 0, 1)
            Height: =28
            Icon: =Icon.Cancel
            OnSelect: |
                =Set(resetCheckboxVar, true); Set(resetCheckboxVar, false);
                Clear(allDelStudentIDsForGroup)
            Visible: =varShowDeletePopup
            Width: =34
            X: =961
            Y: =576
            ZIndex: =38

        Icon14_7 As icon.Edit:
            Color: =RGBA(192, 5, 230, 1)
            Height: =28
            Icon: =Icon.Check
            OnSelect: |
                =ForAll(
                    allDelStudentIDsForGroup,
                    Remove(groepsInhoud, Filter(groepsInhoud, student_id = Student_id && groep_id = Groep_id))
                );
            Visible: =varShowDeletePopup
            Width: =34
            X: =995
            Y: =576
            ZIndex: =39

    CreateGroupPopup As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =58

        popup_background_9 As rectangle:
            Fill: =RGBA(45, 45, 45, 0.8)
            Height: =768
            Visible: =varShowCreateGroupPopup
            Width: =1366
            ZIndex: =12

        popup_box_9 As button:
            AutoDisableOnSelect: =false
            BorderStyle: =BorderStyle.None
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(60, 60, 60, 1)
            Height: =346
            Text: =""
            Visible: =varShowCreateGroupPopup
            Width: =576
            X: =461
            Y: =220
            ZIndex: =13

        popup_header_9 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Semibold
            Height: =47
            Size: =18
            Text: ="Groep aanmaken"
            Visible: =varShowCreateGroupPopup
            Width: =577
            X: =460
            Y: =220
            ZIndex: =14

        knop_toevoegen_5 As button:
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            Fill: =RGBA(192, 5, 230, 1)
            FontWeight: =FontWeight.Normal
            Height: =46
            HoverFill: =RGBA(161, 0, 194, 1)
            OnSelect: |
                =// Define a string of characters to use for generating the unique ID
                Set(
                    Characters,
                    "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"
                );
                
                // Generate the unique ID
                Set(
                    UniqueID,
                    Concat(
                        ForAll(
                            Sequence(20),
                            Mid(
                                Characters,
                                Rand() * Len(Characters) + 1,
                                1
                            )
                        ),
                        Text(Value)
                    )
                );
                
                // Patch data into 'groepens' table
                Patch(
                    groepens,
                    Defaults(groepens),
                    {
                        groupID: UniqueID,
                        course: addCourseDropDown_2.Selected.name,
                        name: TextInput2.Text
                    }
                );
                
                // Close the popup
                Set(varShowCreateGroupPopup, false);
            RadiusBottomLeft: =6
            RadiusBottomRight: =6
            RadiusTopLeft: =6
            RadiusTopRight: =6
            Size: =13
            Text: ="Aanmaken"
            Visible: =varShowCreateGroupPopup
            Width: =183
            X: =537
            Y: =467
            ZIndex: =15

        knop_annuleer_10 As button:
            BorderStyle: =BorderStyle.None
            Color: =RGBA(0, 0, 0, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Normal
            Height: =47
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =RGBA(255, 255, 255, 0.8)
            OnSelect: =Set(varShowCreateGroupPopup, false);
            RadiusBottomLeft: =6
            RadiusBottomRight: =6
            RadiusTopLeft: =6
            RadiusTopRight: =6
            Size: =13
            Text: ="Annuleer"
            Visible: =varShowCreateGroupPopup
            Width: =183
            X: =777
            Y: =467
            ZIndex: =16

        addCourseDropDown_2 As dropdown:
            BorderColor: =RGBA(255, 255, 255, 1)
            BorderStyle: =BorderStyle.None
            ChevronBackground: =RGBA(192, 5, 230, 1)
            ChevronFill: =RGBA(0, 0, 0, 1)
            ChevronHoverBackground: =ColorFade(RGBA(192, 5, 230, 1), -20%)
            Color: =RGBA(255, 255, 255, 1)
            Default: ="Actief"
            Fill: =RGBA(45, 45, 45, 1)
            Height: =58
            HoverFill: =RGBA(192, 5, 230, 1)
            Items: |
                =Filter(courses, name <> "All")
            PressedColor: =RGBA(0, 0, 0, 1)
            PressedFill: =RGBA(255, 255, 255, 1)
            SelectionFill: =RGBA(192, 5, 230, 1)
            Visible: =varShowCreateGroupPopup
            Width: =423
            X: =537
            Y: =374
            ZIndex: =17

        TextInput2 As text:
            BorderColor: =RGBA(45, 45, 45, 1)
            Color: =RGBA(255, 255, 255, 1)
            Default: =""
            Fill: =RGBA(45, 45, 45, 1)
            Height: =52
            HintText: ="group name"
            HoverBorderColor: =RGBA(45, 45, 45, 1)
            Visible: =varShowCreateGroupPopup
            Width: =419
            X: =541
            Y: =291
            ZIndex: =18

    RemoveGroupPopup_1 As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =66

        popup_background_14 As rectangle:
            Fill: =RGBA(45, 45, 45, 0.8)
            Height: =768
            Visible: =varShowDeleteGroupPopup
            Width: =1366
            ZIndex: =19

        popup_box_14 As button:
            AutoDisableOnSelect: =false
            BorderStyle: =BorderStyle.None
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(60, 60, 60, 1)
            Height: =235
            Text: =""
            Visible: =varShowDeleteGroupPopup
            Width: =505
            X: =431
            Y: =255
            ZIndex: =20

        popup_header_12 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Semibold
            Height: =54
            Size: =18
            Text: ="weet je het zeker?"
            Visible: =varShowDeleteGroupPopup
            Width: =505
            X: =430
            Y: =261
            ZIndex: =21

        knop_toevoegen_8 As button:
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            Fill: =RGBA(255, 0, 0, 1)
            FontWeight: =FontWeight.Normal
            HoverFill: =RGBA(184, 0, 0, 1)
            OnSelect: |
                =// Patch: Clear groupID and course fields in studenten_tabel for a specific student
                Patch(
                    studenten_tabel,
                    LookUp(studenten_tabel, studentID = ThisRecord.studentID),
                    {
                        groupID: "",
                        course: ""
                    }
                );
                
                // Remove the selected item from groepens
                Remove(groepens, gallery_courses_3.Selected);
                
                // Load data into collections for local processing
                ClearCollect(localGroepens, groepens);
                ClearCollect(localGroepsInhoud, groepsInhoud);
                
                // Filter locally: Collect items that match the condition into 'items' collection
                ClearCollect(
                    items,
                    Filter(
                        localGroepens,
                        groupID in Filter(localGroepsInhoud, groep_id = groupID).groep_id
                    )
                );
                
                // Remove each record from localGroepsInhoud based on the items collection
                ForAll(
                    items,
                    Remove(
                        groepsInhoud,
                        LookUp(groepsInhoud, groep_id = groep_id)
                    )
                );
                
                // Set the variable to hide the delete group popup
                Set(varShowDeleteGroupPopup, false);
            RadiusBottomLeft: =6
            RadiusBottomRight: =6
            RadiusTopLeft: =6
            RadiusTopRight: =6
            Size: =13
            Text: ="verwijderen"
            Tooltip: =
            Visible: =varShowDeleteGroupPopup
            X: =487
            Y: =415
            ZIndex: =22

        knop_annuleer_13 As button:
            BorderStyle: =BorderStyle.None
            Color: =RGBA(0, 0, 0, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Normal
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =RGBA(255, 255, 255, 0.8)
            OnSelect: =Set(varShowDeleteGroupPopup, false)
            RadiusBottomLeft: =6
            RadiusBottomRight: =6
            RadiusTopLeft: =6
            RadiusTopRight: =6
            Size: =13
            Text: ="Annuleer"
            Visible: =varShowDeleteGroupPopup
            X: =727
            Y: =415
            ZIndex: =23

        Label9_2 As label:
            Color: =RGBA(255, 255, 255, 1)
            Height: =57
            Text: ="weet je het zeker om deze groep te verwijderen?"
            Visible: =varShowDeleteGroupPopup
            Width: =285
            X: =559
            Y: =324
            ZIndex: =24

